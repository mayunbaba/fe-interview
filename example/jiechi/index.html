<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="app">
    <h4>{{title}}</h4>
    <input type="text" v-model="message.detail">
    <button @click="changeMessage">修改数据</button>
    <input type="text" v-model="count">
    <button @click="add">增加</button>
  </div>
  <!-- <script src="./defineProperty.js"></script>
  <script src="./proxy.js"></script> -->
  <script src="./vue.js"></script>
  <script>
 
    // 实例化Vue
    const vm = new Vue({
      el: '#app',
      data: {
        title: '未使用发布订阅者模式、虚拟DOM、简易的Vue实现',
        message: {
          detail: '第一次的数据'
        },
        count: 0
      },
      methods: {
        changeMessage() {
          this.$data.message.detail = '修改后的数据';
        },
        add() {
          this.$data.count++;
        }
      },
      render() {
        const h4 = document.querySelector('h4');
        h4.innerHTML = this.$data.title;
        const input = document.querySelector('input');
        input.value = this.$data.message.detail;

        const input2 = document.querySelectorAll('input')[1];
        input2.value = this.$data.count;
      }
    });

    // 绑定点击事件
    document.querySelector('button').addEventListener('click', function () {
      vm.changeMessage.call(vm);
      vm.render();
    });
    document.querySelectorAll('button')[1].addEventListener('click', function () {
      vm.add.call(vm);
      vm.render();
    });
  </script>
</body>

</html>